:root {
  --pink: #ff7eb6;
  --hot: #ff3f9f;
  --peach: #ffd1dc;
  --mint: #c9fff2;
  --cream: #fff8fb;
  --ink: #3d2c3f;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: "Nunito", "Segoe UI", Tahoma, sans-serif;
  color: var(--ink);
  display: grid;
  place-items: center;
  background: radial-gradient(circle at 18% 12%, rgba(255, 136, 182, 0.18), transparent 36%),
    radial-gradient(circle at 86% 14%, rgba(255, 108, 160, 0.16), transparent 34%),
    radial-gradient(circle at 50% 82%, rgba(255, 48, 98, 0.16), transparent 48%),
    linear-gradient(160deg, #1b0006, #2f000b 24%, #4a0013 46%, #650019 68%, #870022 86%, #a80a31 100%);
  overflow: hidden;
  opacity: 0;
  transform: translateY(14px) scale(0.994);
  filter: blur(4px);
  transition: opacity 700ms cubic-bezier(0.22, 1, 0.36, 1), transform 700ms cubic-bezier(0.22, 1, 0.36, 1), filter 700ms cubic-bezier(0.22, 1, 0.36, 1);
}

body.page-ready {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

body.page-exit {
  opacity: 0;
  transform: translateY(14px) scale(0.994);
  filter: blur(4px);
}

.bg-hearts {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.heart-float {
  position: absolute;
  bottom: -30px;
  color: rgba(255, 215, 229, 0.78);
  line-height: 1;
  animation: rise linear infinite;
  user-select: none;
}

.corner-heart {
  position: fixed;
  bottom: 24px;
  z-index: 1;
  font-size: clamp(86px, 12vw, 170px);
  color: rgba(255, 198, 222, 0.88);
  line-height: 1;
  pointer-events: none;
  text-shadow: 0 0 14px rgba(255, 112, 166, 0.7), 0 10px 24px rgba(54, 0, 16, 0.45);
  animation: heartbeat 1.25s ease-in-out infinite;
}

.corner-heart.left {
  left: 20px;
}

.corner-heart.right {
  right: 20px;
}

.card {
  position: relative;
  z-index: 1;
  width: min(980px, 95vw);
  padding: 36px 28px 28px;
  border-radius: 28px;
  background: transparent;
  box-shadow: none;
  border: none;
  text-align: left;
  animation: pop 900ms ease-out;
}

.badge {
  display: inline-block;
  padding: 6px 14px;
  border-radius: 999px;
  background: #ffe3f2;
  color: #b3005e;
  font-weight: 700;
  letter-spacing: 0.5px;
  margin-bottom: 12px;
}

.heart-showcase {
  width: min(760px, 96%);
  margin: 0 auto 10px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.photo-heart-wrap {
  position: relative;
  width: min(420px, 88%);
}

.flower-pivot {
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  pointer-events: none;
  z-index: 2;
}

.flower {
  position: absolute;
  left: 0;
  bottom: 0;
  width: clamp(64px, 10vw, 100px);
  height: auto;
  transform-origin: 50% 100%;
  filter: drop-shadow(0 8px 12px rgba(66, 0, 20, 0.42));
}

.flower.peo {
  transform: translate(-122px, -52px) rotate(-34deg);
  animation: flowerSwayLeft 3.1s ease-in-out infinite;
}

.flower.rose {
  transform: translate(-50px, -74px) rotate(-8deg);
  animation: flowerSwayMid 2.7s ease-in-out infinite;
}

.flower.tulip {
  transform: translate(24px, -54px) rotate(24deg);
  animation: flowerSwayRight 3.3s ease-in-out infinite;
}

.photo-heart {
  width: 100%;
  aspect-ratio: 1 / 0.92;
  margin: 6px auto;
  background: linear-gradient(145deg, #ff2e55, #d40030 65%, #b30028);
  clip-path: polygon(
    50% 95%,
    30% 79%,
    16% 66%,
    7% 52%,
    6% 36%,
    13% 23%,
    24% 14%,
    37% 13%,
    50% 22%,
    63% 13%,
    76% 14%,
    87% 23%,
    94% 36%,
    93% 52%,
    84% 66%,
    70% 79%
  );
  border: 4px solid #ff9bbc;
  box-shadow: 0 16px 34px rgba(115, 0, 28, 0.5), 0 0 22px rgba(255, 84, 130, 0.35);
  display: grid;
  place-items: center;
  padding: 58px 34px 52px;
  animation: heartbeat 1.45s ease-in-out infinite;
  transform-origin: center;
}

.photo-track {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.photo {
  width: clamp(104px, 18vw, 138px);
  aspect-ratio: 3 / 4;
  border-radius: 18px;
  object-fit: cover;
  image-rendering: auto;
  border: 4px solid #fff;
  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.28);
}

.photo.left {
  transform: rotate(-8deg);
}

.photo.right {
  transform: rotate(8deg);
}

h1 {
  font-family: "Baloo 2", "Nunito", sans-serif;
  font-size: clamp(28px, 4.2vw, 46px);
  font-weight: 800;
  letter-spacing: 0.4px;
  line-height: 1.06;
  margin: -2px auto 10px;
  max-width: 25ch;
  text-align: center;
  color: #ffdff0;
  text-shadow: 0 2px 8px rgba(100, 0, 34, 0.45);
}

.glitter-text {
  background-image: linear-gradient(120deg, #ff8cc4 0%, #ffc6e6 18%, #ff63ad 34%, #ffd3eb 48%, #ff5aa8 62%, #ffd0ea 82%, #ff8cc4 100%);
  background-size: 260% auto;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: glitterShift 2.6s linear infinite;
  filter: drop-shadow(0 0 10px rgba(255, 107, 173, 0.28));
}

.sub {
  margin: 0 auto 20px;
  max-width: 48ch;
  text-align: center;
  font-size: 17px;
  font-weight: 600;
}

.music-panel {
  margin: 0 0 14px;
  text-align: center;
}

.music-hint {
  margin: 10px 0 0;
  font-size: 14px;
  color: #b3005e;
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 14px;
  position: relative;
  min-height: 60px;
}

.btn {
  border: none;
  padding: 12px 26px;
  border-radius: 999px;
  font-size: 18px;
  cursor: pointer;
  transition: transform 150ms ease, box-shadow 150ms ease;
}

.btn.yes {
  background: linear-gradient(135deg, var(--pink), var(--hot));
  color: white;
  box-shadow: 0 10px 20px rgba(255, 63, 159, 0.35);
}

.btn.no {
  background: #fff0f6;
  color: #b3005e;
  border: 2px dashed #ff8ac6;
}

.btn.music {
  background: #ffffff;
  color: #b3005e;
  border: 2px solid #ff8ac6;
}

.btn:active {
  transform: scale(0.98);
}

.btn.yes:hover {
  transform: translateY(-2px) scale(1.03);
}

.btn.no:hover,
.btn.music:hover {
  transform: translateY(-2px);
}

.result {
  margin-top: 18px;
  display: none;
  background: #fff0f6;
  border-radius: 18px;
  padding: 14px;
  border: 2px solid #ffd1dc;
  animation: shimmer 900ms ease;
}

.result.show {
  display: block;
}

.sparkles {
  letter-spacing: 6px;
  color: #ff6fb3;
  margin-bottom: 6px;
}

@keyframes pop {
  from {
    transform: scale(0.96);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes rise {
  0% {
    transform: translateY(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-120vh);
    opacity: 0;
  }
}

@keyframes shimmer {
  0% {
    transform: translateY(6px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes glitterShift {
  from { background-position: 0% center; }
  to { background-position: 260% center; }
}

@keyframes heartbeat {
  0% {
    transform: scale(1);
  }
  15% {
    transform: scale(1.18);
  }
  30% {
    transform: scale(1);
  }
  45% {
    transform: scale(1.14);
  }
  60% {
    transform: scale(1);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes bouquetSwing {
  0%, 100% { transform: rotate(-4deg); }
  50% { transform: rotate(4deg); }
}

@keyframes flowerSwayLeft {
  0%, 100% { transform: translate(-122px, -52px) rotate(-34deg); }
  50% { transform: translate(-122px, -52px) rotate(-26deg); }
}

@keyframes flowerSwayMid {
  0%, 100% { transform: translate(-50px, -74px) rotate(-8deg); }
  50% { transform: translate(-50px, -74px) rotate(-1deg); }
}

@keyframes flowerSwayRight {
  0%, 100% { transform: translate(24px, -54px) rotate(24deg); }
  50% { transform: translate(24px, -54px) rotate(16deg); }
}

@media (max-width: 640px) {
  .card {
    padding: 28px 18px 22px;
    text-align: center;
  }

  .photo-heart-wrap {
    width: min(340px, 90%);
  }

  .photo-heart {
    padding: 46px 24px 44px;
  }

  .flower {
    width: clamp(52px, 12vw, 78px);
  }

  .flower.peo {
    transform: translate(-96px, -38px) rotate(-34deg);
  }

  .flower.rose {
    transform: translate(-36px, -56px) rotate(-8deg);
  }

  .flower.tulip {
    transform: translate(14px, -40px) rotate(24deg);
  }

  .photo-track {
    gap: 10px;
  }

  .photo {
    width: clamp(86px, 24vw, 112px);
  }

  .corner-heart {
    bottom: 14px;
    font-size: clamp(68px, 22vw, 130px);
  }

  .corner-heart.left {
    left: 10px;
  }

  .corner-heart.right {
    right: 10px;
  }
}
